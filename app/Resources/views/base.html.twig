<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>{% block title %}ePazarBG</title> {% endblock %}
    {% block stylesheets %}
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"
              integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ"
              crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
              integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
              crossorigin="anonymous">
        <script rel="stylesheet" src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
                integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
                crossorigin="anonymous"></script>
        <script rel="stylesheet" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
                integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
                integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n"
                crossorigin="anonymous"></script>
        <script rel="stylesheet" src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
                integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
                crossorigin="anonymous"></script>
        <script rel="stylesheet" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
                integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
                crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
                integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
                crossorigin="anonymous"></script>
        <script src="{{ asset('js/jquery-3.3.1.min.js') }}"></script>
        <script rel="stylesheet"
                src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
              integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
              crossorigin="anonymous">




        {#GOOGLE MAPS#}
        <style>
            /* Always set the map height explicitly to define the size of the div
             * element that contains the map. */
            #map {
                width: 100%;
                height: 300px;
            }

            /* Optional: Makes the sample page fill the window. */
            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
            }

            #description {
                font-family: Roboto;
                font-size: 15px;
                font-weight: 300;
            }

            #infowindow-content .title {
                font-weight: bold;
            }

            #infowindow-content {
                display: none;
            }

            #map #infowindow-content {
                display: inline;
            }

            .pac-card {
                margin: 10px 10px 0 0;
                border-radius: 2px 0 0 2px;
                box-sizing: border-box;
                -moz-box-sizing: border-box;
                outline: none;
                box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
                background-color: #fff;
                font-family: Roboto;
            }

            #pac-container {
                padding-bottom: 12px;
                margin-right: 12px;
            }

            .pac-controls {
                display: inline-block;
                padding: 5px 11px;
            }

            .pac-controls label {
                font-family: Roboto;
                font-size: 13px;
                font-weight: 300;
            }

            #pac-input {
                background-color: #fff;
                font-family: Roboto;
                font-size: 15px;
                font-weight: 300;
                margin-left: 12px;
                padding: 0 11px 0 13px;
                text-overflow: ellipsis;
                width: 400px;
            }

            #pac-input:focus {
                border-color: #4d90fe;
            }

            #title {
                color: #fff;
                background-color: #4d90fe;
                font-size: 25px;
                font-weight: 500;
                padding: 6px 12px;
            }

            #target {
                width: 345px;
            }
        </style>




    {% endblock %}
    <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}"/>
</head>

<body id="{% block body_id %}{% endblock %}">


{#HEADER#}
{% block header %}
    <header>

        <nav class="navbar navbar-expand-lg navbar-light " style="background-color: #e3f2fd;">
            <a class="navbar-brand" href="{{ path('product_index') }}"> <img class="rounded-circle"
                                                                                     src="{{ asset('/uploads/images/product/e6e8e27cac9c212e8ea6168436c43efb.gif') }}"
                                                                                     width="120"
                                                                                     height="50"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                {#<form class="form-inline my-2 my-lg-0">#}
                {#<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">#}
                {#<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>#}
                {#</form>#}
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a href="{{ path('product_new') }}" class="btn btn-warning" role="button">Add Advert</a>
                    </li>
                </ul>
                {% if app.user %}
                    {#<ul class="navbar-nav mr-right">#}
                        {#<li class="nav-item">#}
                            {#<a class="nav-link" href="{{ path('security_logout') }}">#}
                                {#Logout#}
                            {#</a>#}
                        {#</li>#}
                    {#</ul>#}


                    <ul class="navbar-nav mr-auto">
                        {#<li class="nav-item active">#}
                            {#<a href="{{ path('product_new') }}" class="btn btn-warning" role="button">Add Advert</a>#}
                        {#</li>#}

                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                               data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
Message Box
                                {#<img class="rounded-circle"#}
                                     {#src="{{ asset('/uploads/images/profile/') ~ app.user.image }}" width="30"#}
                                     {#height="30">#}
                                <i class="far fa-envelope"></i>
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="{{ path('messages_inbox') }}">Inbox</a>
                                <a class="dropdown-item" href="{{ path('messages_outbox') }}">Outbox</a>
                                <a class="dropdown-item" href="{{ path('messages_new') }}">Create a new message</a>
                                {#<div class="dropdown-divider"></div>#}
                                {#<a class="dropdown-item" href="{{ path('security_logout') }}">Logout</a>#}
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ path('user_profile') }}">Profile</a>

                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">

                                    <img class="rounded-circle"
                                         src="{{ asset('/uploads/images/profile/') ~ app.user.image }}" width="30"
                                         height="30">
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="{{ path('profile_edit') }}">Edit Profile</a>
                                    {#<a class="dropdown-item" href="{{ path('messages_new') }}">Create a new message</a>#}
                                    <a class="dropdown-item" href="{{ path('myProduct') }}">My Advert</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="{{ path('security_logout') }}">Logout</a>
                                </div>
                            </li>
                        {% else %}
                            <ul class="navbar-nav mr-auto">
                                <li class="nav-item">
                                    <a class="nav-link" href="{{ path('user_register') }}">
                                        REGISTER
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link" href="{{ path('security_login') }}">
                                        LOGIN
                                    </a>
                                </li>


                            </ul>
                        {% endif %}
                        {% if  app.user and app.user.isAdmin %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                               data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Admin Panel</a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="{{ path('all_users') }}">Edit User Profile</a>

                                <a class="dropdown-item" href="{{ path('roles_index') }}">Edit User Roles</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="{{ path('category_index') }}"> Edit Category</a>
                            </div>
                        {#</li>#}
                            {#<li class="nav-item">#}
                                {#<a class="nav-link " href="{{ path('all_users') }}">Admin Panel</a>#}
                            {#</li>#}
                            {#<li class="nav-item">#}
                                {#<a class="nav-link" href="{{ path('category_index') }}">#}
                                    {#CATEGORY#}
                                {#</a>#}
                            {#</li>#}
                        {#{% endif %}#}
                    </ul>
                {#{% else %}#}
                {% endif %}

                {#{% endif %}#}
            </div>
        </nav>
    </header>
{% endblock %}


{#FLASH MESSAGES#}
{% for msg in app.session.flashBag.get('notice') %}
    <div class="alert alert-success">
        {{ msg }}
    </div>
{% endfor %}

{% for msg in app.session.flashBag.get('error') %}
    <div class="alert alert-danger">
        {{ msg }}
    </div>
{% endfor %}

{#BODY#}
<div class="container-fluid body-container">
    {% block body %}
        <div class="row">
            <div id="main" class="col-sm-9">
                {% block main %}{% endblock %}
            </div>
        </div>
    {% endblock %}
</div>


{% block asideleft %}{% endblock %}
{% block asideright %}{% endblock %}




{#FOOTER#}
{% block footer %}
    <footer class="page-footer font-small blue fixed-bottom " style="background-color: #e3f2fd;">

        <!-- Copyright -->
        <div class="footer-copyright text-center py-3">Â© 2018 Copyright:
            <a href="https://dimovdev.com"> created by DimovDev</a>
        </div>
    </footer>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('js/jquery-3.3.1.min.js') }}"></script>
    <script src="{{ asset('js/moment.min.js') }}"></script>
    <script src="{{ asset('js/bootstrap.js') }}"></script>
    <script src="{{ asset('js/bootstrap-datetimepicker.min.js') }}"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
            integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"
            integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
            crossorigin="anonymous"></script>

    {#GOOGLE MAPS#}
    <script>
        // This example adds a search box to a map, using the Google Place Autocomplete
        // feature. People can enter geographical searches. The search box will return a
        // pick list containing a mix of places and predicted search terms.

        // This example requires the Places library. Include the libraries=places
        // parameter when you first load the API. For example:
        // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">

        function initAutocomplete() {

            const locationFieldId = 'product_location';

            var map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: 42.5, lng: 27.47},
                zoom: 15,
                mapTypeId: 'roadmap'
            });

            // Create the search box and link it to the UI element.
            var input = document.getElementById(locationFieldId);
            var searchBox = new google.maps.places.SearchBox(input);
            //map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);

            // Bias the SearchBox results towards current map's viewport.
            map.addListener('bounds_changed', function () {
                searchBox.setBounds(map.getBounds());
            });

            var markers = [];
            // Listen for the event fired when the user selects a prediction and retrieve
            // more details for that place.
            searchBox.addListener('places_changed', function () {
                var places = searchBox.getPlaces();

                if (places.length == 0) {
                    return;
                }

                // Clear out the old markers.
                markers.forEach(function (marker) {
                    marker.setMap(null);
                });
                markers = [];

                // For each place, get the icon, name and location.
                var bounds = new google.maps.LatLngBounds();
                places.forEach(function (place) {
                    if (!place.geometry) {
                        console.log("Returned place contains no geometry");
                        return;
                    }
                    var icon = {
                        url: place.icon,
                        size: new google.maps.Size(71, 71),
                        origin: new google.maps.Point(0, 0),
                        anchor: new google.maps.Point(17, 34),
                        scaledSize: new google.maps.Size(25, 25)
                    };

                    // Create a marker for each place.
                    markers.push(new google.maps.Marker({
                        map: map,
                        icon: icon,
                        title: place.name,
                        position: place.geometry.location
                    }));

                    if (place.geometry.viewport) {
                        // Only geocodes have viewport.
                        bounds.union(place.geometry.viewport);
                    } else {
                        bounds.extend(place.geometry.location);
                    }
                });
                map.fitBounds(bounds);
            });
        }

    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAmQfiROHjUiQYmUKCCnzfuQsfznK5tPHA
    &libraries=places&callback=initAutocomplete"
            async defer></script>
    {#<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAmQfiROHjUiQYmUKCCnzfuQsfznK5tPHA#}
    {#&callback=initAutocomplete"#}
    {#type="text/javascript"></script>#}
    {#async defer#}



    <script>

        const alertsDurationInSeconds = 10;

        // ON DOCUMENT READY
        $(function () {

            // AUTO CLOSE ALERTS IN A FEW SECONDS
            setTimeout(function () {
                $(".alert").alert('close');
            }, alertsDurationInSeconds * 1000);
        })
    </script>

{% endblock %}


</body>
</html>